<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <!-- Circles' head scripts [REQUIRED] -->
    <circles-start-scripts/>
  </head>
  <body>
    <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
    <circles-start-ui/>
    
    <!-- a-scene with 'circles-properties' component [REQUIRED] -->
    <a-scene circles_scene_properties>
      <!-- assets -->
      <a-assets>
        <img id='skyMap' src='/global/assets/textures/equirectangular/WhiteBlue.jpg' crossorigin="anonymous">

        <a-asset-item id="room" src="/worlds/VD_3_ProvinceHouse/assets/models/province_house/scene.gltf"></a-asset-item>
        <!-- <a-asset-item id="room" src="/worlds/VD_3_ProvinceHouse/assets/models/ProvinceHouse.glb" response-type="arraybuffer"></a-asset-item> -->
        <a-asset-item id="desmondDoc" src="/worlds/VD_3_ProvinceHouse/assets/models/AboutDesmond.glb" response-type="arraybuffer"></a-asset-item>
        <a-asset-item id="desmondBill" src="/worlds/VD_3_ProvinceHouse/assets/models/DesmondBill.glb" response-type="arraybuffer"></a-asset-item>
        <a-asset-item id="desmondStamp" src="/worlds/VD_3_ProvinceHouse/assets/models/DesmondStamp.glb" response-type="arraybuffer"></a-asset-item>
        <a-asset-item id="freePardonDoc" src="/worlds/VD_3_ProvinceHouse/assets/models/FreePardonDoc.glb" response-type="arraybuffer"></a-asset-item>
        <a-asset-item id="microphone" src="/worlds/VD_3_ProvinceHouse/assets/models/Microphone.glb" response-type="arraybuffer"></a-asset-item>

        <!-- audio -->
        <audio id="wanda-snd"   src="/worlds/VD_3_ProvinceHouse/assets/audio/Wanda_speech.mp3"></audio>
        <audio id="crowd-snd"  src="/worlds/VD_3_ProvinceHouse/assets/audio/ProvinceHouse_crowd.mp3"></audio>
        <audio id="cameras-snd" src="/worlds/VD_3_ProvinceHouse/assets/audio/Vintage_cameras.mp3"></audio>

        <!-- 360 image -->
        <img id='campfire360' src='/global/assets/textures/equirectangular/Campfire_360.jpg' crossorigin="anonymous">

        <!-- Circles' built-in assets [REQUIRED] -->
        <circles-assets/>
      </a-assets>

      <!-- Circles' built-in manager and avatar [REQUIRED] -->
      <circles-manager-avatar/>

      <!-- environment -->
      <a-entity gltf-model="#room" scale="0.01 0.01 0.01" circles-sphere-env-map="src:/global/assets/textures/equirectangular/WhiteBlue.jpg" shadow></a-entity>

      <!-- artefacts (no narrative audio attached) -->
      <a-entity id="Artefact-DesmondDoc" 
                class="interactive"
                position="-2.23 1.245 -5.53" rotation="-75.5 -150 -5" scale="0.009 0.009 0.009"
                gltf-model="#desmondDoc" 
                shadow="receive:true; cast:true;"
                circles-artefact="inspectScale:0.02 0.02 0.02;
                                  label_offset:0 0.5 0; arrow_position:down;
                                  descriptionLookAt:true;
                                  title:Viola Desmond;  
                                  description:The story of Viola Desmond is now known because her sister, Wanda Robson, decided to seek justice and prompt Canada to hear Viola's story.;
                                  label_text:Viola Desmond;"></a-entity>
      
      <a-entity id="Artefact-DesmondPardon"
                class="interactive"
                position="0.264 0.889 -6.706" rotation="-90 191.871 0" scale="0.01 0.01 0.01"
                gltf-model="#freePardonDoc" 
                shadow="receive:true; cast:true;"
                circles-artefact="inspectScale:0.02 0.02 0.02;
                                  label_offset:0.0 0.5 0.0; arrow_position:down;
                                  descriptionLookAt:true;
                                  title:Free Pardon;
                                  description:The 'free pardon' of Viola Desmond in 2010 marked Nova Scotia's formal apology for the racially-motivated injustice of charging Viola for tax evasion in 1946.; 
                                  label_text:Free Pardon;"></a-entity>

      <a-entity id="Artefact-DesmondBill"
                class="interactive"
                position="2.160 0.540 -1.876" rotation="-90 200 0" scale="0.02 0.02 0.02" 
                gltf-model="#desmondBill"
                shadow="receive:true; cast:true;"
                circles-artefact="inspectScale:0.06 0.06 0.06;
                                  label_offset:0.0 0.7 0.0; arrow_position:down;
                                  descriptionLookAt:true;
                                  title:Currency;
                                  description:In 2018 Canada circulated a $10 bill that marked the first time a non-royal solo woman has appeared on Canadian Currency. It is also the first vertically printed note in Canadian history.;
                                  label_text:Currency;"></a-entity>

      <a-entity id="Artefact-DesmondStamp"
                class="interactive" 
                position="4.865 0.840 -3.01" rotation="-90 280 0" scale="0.04 0.04 0.04" scale="0.01 0.01 0.01"
                gltf-model="#desmondStamp"
                shadow="receive:true; cast:true;"
                circles-artefact="inspectScale:0.15 0.15 0.15; textRotationY:-90.0;
                                  label_offset:0.0 0.5 0.0; arrow_position:down;
                                  title:Stamp;
                                  description:In 2012 Viola Desmond was recognized as a Canadian civil rights pioneer with an official Canada Post stamp during black history month.;
                                  label_text:Stamp;"></a-entity>

      <!-- non-artefact object -->
      <a-entity id="Microphone" class="interactive" gltf-model="#microphone" position="-2.032 1.328 -5.587" rotation="-13.711 63.860 -8.963" scale="0.01 0.01 0.01"></a-entity>

      <!-- portal back to campfire -->
      <a-entity id="campfire_link"
                position="0.15 1.5 10.3" rotation="0 90 0"  scale="1 1 1"
                circles-portal="img_src:#campfire360; title_text:The Fire; link_url:/w/Campfire"></a-entity>

      <!-- audio -->
      <a-entity position="-2.2 1.5 4.3" circles-sound="type:ambient; src:#crowd-snd; autoplay:true; loop:true; volume:0.8;" ></a-entity>
      <a-entity position="1.9 1.5 3.6" circles-sound="type:ambient; src:#cameras-snd; autoplay:true; loop:true; volume:0.1;" ></a-entity>
      <a-entity position="-1.949 1.283 -5.537" circles-sound="type:ambient; src:#wanda-snd; autoplay:true; loop:true; volume:0.1;" ></a-entity>

      <!-- checkpoints -->
      <a-entity circles-checkpoint circles-spawnpoint position="-0.15 0.05 0"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="4.1 0.050 -2.910"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-2.44430675630871 0.05 -4.113218268119928"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-2.720 0.050 -6.224"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="0.18494382714657953 0.05 -8.195850519606006"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-0.128 0.05 -3.8023537578913738"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="4.1 0.05 -5.403521972336446"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="2.680703445203544 0.05 -7.300741883576242"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="2.5310125091933178 0.05 -3.9330989133005376"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-0.063636906532623 0.5624923645084927 -11.24974374221461"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-4.124172440813153 0.05 -10.071088420665333"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="3.7888145434758016 0.05 -10.453496593149014"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="4.1 0.05 0"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-4.4 0.05 0"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-4.4 0.05 6"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-4.4 0.05 10.5"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="4.1 0.05 10.5"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-0.15 0.05 6"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="4.1 0.05 6.013884971399056"></a-entity>

      <!-- lights -->
      <a-entity light="type:spot; intensity:10.0; color:#d5e4f5; angle:80; penumbra:0.1;" circles-platform-shadows rotation="-90 0 0" position='0 5.4 -7'></a-entity>
      <a-entity light="type:hemisphere; color:#d6e1e8; groundColor:#d76e68; intensity:3.0"></a-entity>

      <!-- skybox -->
      <a-entity id='skyBox'
                geometry='primitive:sphere; radius:50; segments-height:6; segments-width:6;'
                material='shader:flat; src:#skyMap; side:back;'>
      </a-entity>
    </a-scene>

    <!-- Circles' end scripts [REQUIRED] -->
    <circles-end-scripts/>
  </body>
</html>



