<html>
  <head>
    <meta charset="utf-8">

    <!-- Circles' head scripts [REQUIRED] -->
    <circles-start-scripts/>

    <!-- add your custom scripts here -->
    <script src="/worlds/Testbed/scripts/research-manager.js"></script>
    <script src="/worlds/Testbed/scripts/research-selection-tasks.js"></script>
  </head>
  <body>
    <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
    <circles-start-ui/>

    <!-- a-scene with 'circles-properties' component [REQUIRED] -->
    <a-scene circles_scene_properties>
      <a-assets>
        <!-- add your assets here -->
        <!-- source: https://www.artstation.com/artwork/oOGk4W -->
        <img id='skyMap' src='/worlds/Testbed/assets/textures/tim-barton-skybox.jpg' crossorigin="anonymous">

        <!-- Circles' built-in assets [REQUIRED] -->
        <circles-assets/>
      </a-assets>

      <!-- Circles' built-in manager and avatar [REQUIRED] -->
      <circles-manager-avatar/>

      <a-entity id="research_manager" research-manager="experiment_script_url:/worlds/Testbed/scripts/experiment_script_EXAMPLE.json"></a-entity>


      <!-- <a-entity id="Artefact-Sphere"
                class="interactive"
                position="0.0 0.5 -3.0" rotation="0.0 0.0 0.0" scale="1.0 1.0 1.0"
                geometry="primitive:torus; radius:0.5; radiusTubular:0.1; arc:360;"
                material="color:rgb(255, 100, 20); roughness:0.4; metalness:0.8; sphericalEnvMap:#skyMap;"
                circles-artefact="inspectScale:0.5 0.5 0.5; textRotationY:90.0; textLookAt:false; inspectRotation:0.0 0.0 0; 
                                  title:Inspecting an Object; description:This is is the text that will display when an object is picked up. Adjust scale size and text rotation properties for the effect you want.;
                                  label_text:Inspect Object; label_visible:true; label_offset:0.0 1.0 0.0; arrow_position:down; 
                                  object_world:__WORLDNAME__;">
      </a-entity> -->

      <!-- checkpoints -->
      <!-- circles-spawnpoint is only added if you want this checkpoint to also be a spawn point when users log in -->
      <a-entity circles-checkpoint circles-spawnpoint position="0.0 0.05 0.0"></a-entity>

      
      <!-- the ground, let's remove for now to keep elements present minimal for testing -->
      <!-- <a-entity geometry="primitive:circle; radius:1.5; segments:50;" rotation="-90 0 0" material="color:rgb(0, 0, 0); roughness:0.9; metalness:0.3; sphericalEnvMap:#skyMap;"></a-entity> -->

      <!-- sky and lights -->
      <a-entity light="type:ambient; color:#FFF; intensity:3.0"></a-entity>

      <!-- <a-entity id='error_box' 
                geometry='primitive:cube; width:20; height:20; depth:30;'
                material='shader:flat; color:#00FF00; side:back; transparent:false;'>
      </a-entity> -->

      <a-entity id='skyBox' 
                geometry='primitive:sphere; radius:50; segments-height:12; segments-width:12;'
                material='shader:flat; src:#skyMap; side:back;'>
      </a-entity>
    </a-scene>

    <!-- Circles' end scripts [REQUIRED] -->
    <circles-end-scripts/>
  </body>
</html>
