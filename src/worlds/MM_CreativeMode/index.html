<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <!-- Circles' head scripts [REQUIRED] -->
    <circles-start-scripts/>
    <!-- Physics script goes after the Circles' head scripts [IMPORTANT]-->
    <script src="/global/js/libs/aframe-physics-system.min.js"></script>
    <script src="/worlds/KIN_ShootAndDrop/components/physics-object.js"></script>
    <script src="/worlds/KIN_ShootAndDrop/components/collision-indicator.js"></script>
    <script src="/worlds/KIN_ShootAndDrop/scripts/experiment-functions.js"></script>
  </head>

  <body onload="setup()">
    <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
    <circles-start-ui/>

    <!-- a-scene with 'circles-properties' component [REQUIRED] -->
    <a-scene circles_scene_properties physics="debug:false; gravity:-9.8; friction: 0.1; restitution: 0.5;" background="color:#d9a60b;" fog="type:linear; color:#d9a60b; far:30; near:0">

      <a-camera position="0 1.4 3" rotation="-1 0 0"></a-camera>
      <!-- assets -->
      <a-assets timeout="10000">

        <!-- Aritfact Models -->


        <!-- Environment -->


        <!-- Images -->

        <!-- Hub image -->
        <img id='hub360' src='/worlds/MuseumMysteriesHub/assets/images/MMHub.png' crossorigin="anonymous">

        <!-- Circles' built-in assets [REQUIRED] -->
        <circles-assets/>
      </a-assets>

      <!-- Circles' built-in avatar [REQUIRED] -->
      <circles-manager-avatar/>

      <!-- Artifacts -->
      <a-entity id="artifacts">  
        <a-entity id="torus_knot" position="-4 1 -5"
                  geometry="primitive:torusKnot; radius:0.5; radiusTubular:0.07; segmentsTubular:128; segmentsRadial:16;"
                  material="color:yellow; emissive:red; emissiveIntensity:0.7; metalness:0.3; roughness:0.8;" 
                  circles-pickup-object="pickupScale:0.5 0.5 0.5;"
                  circles-pickup-networked 
                  shadow="cast:true; receive:true;"></a-entity>
        <a-entity id="torus_knot" position="-2 1 -5"
                  geometry="primitive:torusKnot; radius:0.5; radiusTubular:0.07; segmentsTubular:128; segmentsRadial:16;"
                  material="color:yellow; emissive:red; emissiveIntensity:0.7; metalness:0.3; roughness:0.8;" 
                  circles-pickup-object="pickupScale:0.5 0.5 0.5;"
                  circles-pickup-networked 
                  shadow="cast:true; receive:true;"></a-entity>
        <a-entity id="torus_knot" position="0 1 -5"
                  geometry="primitive:torusKnot; radius:0.5; radiusTubular:0.07; segmentsTubular:128; segmentsRadial:16;"
                  material="color:yellow; emissive:red; emissiveIntensity:0.7; metalness:0.3; roughness:0.8;" 
                  circles-pickup-object="pickupScale:0.5 0.5 0.5;"
                  circles-pickup-networked 
                  shadow="cast:true; receive:true;"></a-entity>
        <a-entity id="torus_knot" position="2 1 -5"
                  geometry="primitive:torusKnot; radius:0.5; radiusTubular:0.07; segmentsTubular:128; segmentsRadial:16;"
                  material="color:yellow; emissive:red; emissiveIntensity:0.7; metalness:0.3; roughness:0.8;" 
                  circles-pickup-object="pickupScale:0.5 0.5 0.5;"
                  circles-pickup-networked 
                  shadow="cast:true; receive:true;"></a-entity>
        <a-entity id="torus_knot" position="4 1 -5"
                  geometry="primitive:torusKnot; radius:0.5; radiusTubular:0.07; segmentsTubular:128; segmentsRadial:16;"
                  material="color:yellow; emissive:red; emissiveIntensity:0.7; metalness:0.3; roughness:0.8;" 
                  circles-pickup-object="pickupScale:0.5 0.5 0.5;"
                  circles-pickup-networked 
                  shadow="cast:true; receive:true;"></a-entity>
      </a-entity>

      <!-- Floor -->
      <a-entity id="floor" position="0 -0.5 -5"  geometry="primitive:box; depth:30; width:30; height:1;" material="color:#f2b90c;" body="type:static; mass:0; shape:box;" circles-shadow></a-entity>
      <a-entity id="TitleText" position="0 0.05 -2.5" rotation="-90 0 0" scale="12 12 12" text="value:Exhibit Room; color: #c79600; width: 1; wrapCount: 30; align: center; tabSize: 4.43; font: /worlds/KIN_ShootAndDrop/assets/font/BebasNeue-Regular-msdf.json; negate: false; lineHeight: 60"></a-entity>

      <!-- Back to hub -->
      <a-entity class="backToLabel" position="0 0 0" rotation="0 0 180" text="value:Back to; color: #c79600; width: 1.7; wrapCount: 30; align: center; tabSize: 4.43; font: /worlds/KIN_ShootAndDrop/assets/font/BebasNeue-Regular-msdf.json; negate: false; lineHeight: 60"  scale="4.5 4.5 4.5"></a-entity>
      <a-entity class="panelLabel" position="0 0 0" rotation="0 0 180" text="value:Hub; color: #c79600; width: 1.7; wrapCount: 30; align: center; tabSize: 4.43; font: /worlds/KIN_ShootAndDrop/assets/font/BebasNeue-Regular-msdf.json; negate: false; lineHeight: 60"  scale="5 5 5"></a-entity>
      <a-entity id="HubLink"
                position="0 1.5 6.33" rotation="0 90 0" scale="1 1 1"
                circles-portal="img_src:#hub360; title_text:Click me to be teleported; link_url:/w/MuseumMysteriesHub"></a-entity>

      <!------------------------------------------------------------------------------->
      <!-- Checkpoints -->
      <a-entity circles-checkpoint circles-spawnpoint position="0 0.05 0"></a-entity>
      <a-entity circles-checkpoint position="-3.5 0.05 -3"></a-entity>
      <a-entity circles-checkpoint position="3.5 0.05 -3"></a-entity>
      <a-entity circles-checkpoint position="-2.8 0.05 -10"></a-entity>
      <a-entity circles-checkpoint position="2.8 0.05 -10"></a-entity>
      <a-entity circles-checkpoint position="0 0.05 -12"></a-entity>

      <!------------------------------------------------------------------------------->
      <!-- lighting -->
      <a-entity light="type:ambient; color:#FFF; intensity:3.0"></a-entity>
      <a-entity light="type: directional; color: #FFF; intensity: 1.0" position="0 1 1"></a-entity>
    </a-scene>

    <!-- Circles' end scripts [REQUIRED] -->
    <circles-end-scripts/>
  </body>
</html>
