<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <!-- Circles' head scripts [REQUIRED] -->
    <circles-start-scripts/>
  </head>

  <body onload="setup()">
    <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
    <circles-start-ui/>

    <!-- a-scene with 'circles-properties' component [REQUIRED] -->
    <a-scene circles_scene_properties background="color:#333333;" >

      <a-camera position="0 1.6 3" rotation="-1 0 0"></a-camera>
      <!-- assets -->
      <a-assets timeout="10000">

        <!-- Aritfact Models -->
          <a-asset-item id="CPUTerminal_obj" src="assets/models/CPUTerminal.obj"></a-asset-item>
          <a-asset-item id="CPUTerminal_mtl" src="assets/models/CPUTerminal.mtl"></a-asset-item>
          <a-asset-item id="lemWood_gltf" src="assets/models/lemWood.gltf" response-type="arraybuffer"></a-asset-item>
          <a-asset-item id="majesticCamera_obj" src="assets/models/majesticCamera.obj"></a-asset-item>
          <a-asset-item id="majesticCamera_mtl" src="assets/models/majesticCamera.mtl"></a-asset-item>
          <a-asset-item id="northernElectricPhone_obj" src="assets/models/northernElectricPhone.obj"></a-asset-item>
          <a-asset-item id="northernElectricPhone_mtl" src="assets/models/northernElectricPhone.mtl"></a-asset-item>
          <a-asset-item id="singerSewingMachine_gltf" src="assets/models/singerSewingMachine.gltf" response-type="arraybuffer"></a-asset-item>

        <!-- Environment -->
        <a-asset-item id="room_gltf" src="assets/models/creativeRoom.gltf" crossorigin="anonymous"></a-asset-item>

        <!-- Images -->
          <img id='walltx' src='/worlds/MuseumMysteriesHub/assets/images/wall.png' crossorigin="anonymous">
          <img id='floortx' src='/worlds/MuseumMysteriesHub/assets/images/floor.png' crossorigin="anonymous">
          <img id='lemWood_Tx' src='/worlds/MuseumMysteriesHub/assets/models/lemWood.jpg' crossorigin="anonymous">
          <img id='singerSewingMachine_Tx' src='/worlds/MuseumMysteriesHub/assets/models/singerSewingMachine.jpg' crossorigin="anonymous">
       
        <!-- Hub image -->
          <img id='hub360' src='/worlds/MuseumMysteriesHub/assets/images/MMHubIMG.png' crossorigin="anonymous">

        <!-- Circles' built-in assets [REQUIRED] -->
          <circles-assets/>
      </a-assets>

      <!-- Circles' built-in avatar [REQUIRED] -->
        <circles-manager-avatar/>
      <a-entity id="room" 
                gltf-model="#room_gltf"
                position="0 0 0"
                shadow></a-entity>
      <!-- TMP Room -->


      <!-- Artifacts -->
        <a-entity id="artifacts" position="5 0.5 1" rotation="0 -90 0">
          <a-entity id="singerSewingMachine" position="-2 1 0" rotation="0 90 0"
                    gltf-model="#singerSewingMachine_gltf" 
                    circles-pickup-object
                    circles-pickup-networked
                    shadow="receive:false; cast:false;"></a-entity>
          <a-entity id="lemWood" position="-0.75 1 0.5"
                    gltf-model="#lemWood_gltf" 
                    circles-pickup-object
                    circles-pickup-networked
                    shadow="receive:false; cast:false;"></a-entity>  
          <a-entity obj-model="obj: #CPUTerminal_obj; mtl: #CPUTerminal_mtl" position="0.25 1 0"
                    circles-pickup-object
                    circles-pickup-networked 
                    shadow="cast:true; receive:true;"></a-entity>
          <a-entity obj-model="obj: #majesticCamera_obj; mtl: #majesticCamera_mtl" position="1.25 1 0"
                    circles-pickup-object
                    circles-pickup-networked 
                    shadow="cast:true; receive:true;"></a-entity>
          <a-entity obj-model="obj: #northernElectricPhone_obj; mtl: #northernElectricPhone_mtl" position="2 1 0"
                    circles-pickup-object
                    circles-pickup-networked 
                    shadow="cast:true; receive:true;"></a-entity>
        </a-entity>
        <a-entity id="artifacts_placeholders" position="0 3 -1" rotation="0 -90 0">  
          <a-entity id="torus_knot" position="0 1 -5"
                    geometry="primitive:torusKnot; radius:0.2; radiusTubular:0.05; segmentsTubular:128; segmentsRadial:16;"
                    material="color:#8fd5a6; emissive:#8fd5a6; emissiveIntensity:0.3; metalness:0.3; roughness:0.8;" 
                    circles-artefact="inspectPosition:0 0 0; inspectRotation:0 0 0; inspectScale:0.8 0.8 0.8;
                                      textRotationY:90.0; labelLookAt:true; descriptionLookAt:true; label_offset:0.0 1.0 0.0; arrow_position:down;
                                      title: Placeholder Artefact;
                                      description:This is a placeholder artefact;
                                      title_back:[~20-25 chars] Title Back;
                                      description_back:[~240-280 chars] This is the back/secondary text that will display when you rotate the description bubble.;
                                      label_text:Placeholder;"
                    circles-pickup-networked 
                    shadow="cast:true; receive:true;"></a-entity>
          <a-entity id="torus_knot" position="1 1 -5"
                    geometry="primitive:torusKnot; radius:0.2; radiusTubular:0.05; segmentsTubular:128; segmentsRadial:16;"
                    material="color:#8fd5a6; emissive:#8fd5a6; emissiveIntensity:0.3; metalness:0.3; roughness:0.8;" 
                    circles-artefact="inspectPosition:0 0 0; inspectRotation:0 0 0; inspectScale:0.8 0.8 0.8;
                                      textRotationY:90.0; labelLookAt:true; descriptionLookAt:true; label_offset:0.0 1.0 0.0; arrow_position:down;
                                      title: Placeholder Artefact;
                                      description:This is a placeholder artefact;
                                      title_back:[~20-25 chars] Title Back;
                                      description_back:[~240-280 chars] This is the back/secondary text that will display when you rotate the description bubble.;
                                      label_text:Placeholder;"
                    circles-pickup-networked 
                    shadow="cast:true; receive:true;"></a-entity>
          <a-entity id="torus_knot" position="2 1 -5"
                    geometry="primitive:torusKnot; radius:0.2; radiusTubular:0.05; segmentsTubular:128; segmentsRadial:16;"
                    material="color:#8fd5a6; emissive:#8fd5a6; emissiveIntensity:0.3; metalness:0.3; roughness:0.8;" 
                    circles-artefact="inspectPosition:0 0 0; inspectRotation:0 0 0; inspectScale:0.8 0.8 0.8;
                                      textRotationY:90.0; labelLookAt:true; descriptionLookAt:true; label_offset:0.0 1.0 0.0; arrow_position:down;
                                      title: Placeholder Artefact;
                                      description:This is a placeholder artefact;
                                      title_back:[~20-25 chars] Title Back;
                                      description_back:[~240-280 chars] This is the back/secondary text that will display when you rotate the description bubble.;
                                      label_text:Placeholder;"
                    circles-pickup-networked 
                    shadow="cast:true; receive:true;"></a-entity>
          <a-entity id="torus_knot" position="3 1 -5"
                    geometry="primitive:torusKnot; radius:0.2; radiusTubular:0.05; segmentsTubular:128; segmentsRadial:16;"
                    material="color:#8fd5a6; emissive:#8fd5a6; emissiveIntensity:0.3; metalness:0.3; roughness:0.8;" 
                    circles-artefact="inspectPosition:0 0 0; inspectRotation:0 0 0; inspectScale:0.8 0.8 0.8;
                                      textRotationY:90.0; labelLookAt:true; descriptionLookAt:true; label_offset:0.0 1.0 0.0; arrow_position:down;
                                      title: Placeholder Artefact;
                                      description:This is a placeholder artefact;
                                      title_back:[~20-25 chars] Title Back;
                                      description_back:[~240-280 chars] This is the back/secondary text that will display when you rotate the description bubble.;
                                      label_text:Placeholder;"
                    circles-pickup-networked 
                    shadow="cast:true; receive:true;"></a-entity>
          <a-entity id="torus_knot" position="4 1 -5"
                    geometry="primitive:torusKnot; radius:0.2; radiusTubular:0.05; segmentsTubular:128; segmentsRadial:16;"
                    material="color:#8fd5a6; emissive:#8fd5a6; emissiveIntensity:0.3; metalness:0.3; roughness:0.8;" 
                    circles-artefact="inspectPosition:0 0 0; inspectRotation:0 0 0; inspectScale:0.8 0.8 0.8;
                                      textRotationY:90.0; labelLookAt:true; descriptionLookAt:true; label_offset:0.0 1.0 0.0; arrow_position:down;
                                      title: Placeholder Artefact;
                                      description:This is a placeholder artefact;
                                      title_back:[~20-25 chars] Title Back;
                                      description_back:[~240-280 chars] This is the back/secondary text that will display when you rotate the description bubble.;
                                      label_text:Placeholder;"
                    circles-pickup-networked 
                    shadow="cast:true; receive:true;"></a-entity>
        </a-entity>

      <!-- Back to hub -->
        <a-entity class="backToLabel" position="0 0 3.5" rotation="-90 0 180" text="value:Back to; color: #c79600; width: 1.7; wrapCount: 30; align: center; tabSize: 4.43; font: /worlds/KIN_ShootAndDrop/assets/font/BebasNeue-Regular-msdf.json; negate: false; lineHeight: 60"  scale="4.5 4.5 4.5"></a-entity>
        <a-entity class="panelLabel" position="0 0 3" rotation="-90 0 180" text="value:Hub; color: #c79600; width: 1.7; wrapCount: 30; align: center; tabSize: 4.43; font: /worlds/KIN_ShootAndDrop/assets/font/BebasNeue-Regular-msdf.json; negate: false; lineHeight: 60"  scale="5 5 5"></a-entity>
        <a-entity id="HubLink"
                  position="0 1.5 4.33" rotation="0 90 0" scale="1 1 1"
                  circles-portal="img_src:#hub360; title_text:Click me to be teleported; link_url:/w/MuseumMysteriesHub"></a-entity>

      <!------------------------------------------------------------------------------->
      <!-- Checkpoints -->
        <a-entity circles-checkpoint circles-spawnpoint position="0 0.05 0"></a-entity>

      <!------------------------------------------------------------------------------->
      <!-- lighting -->
        <a-entity id='skyBox'
                  rotation='0 200 0'
                  geometry='primitive:sphere; radius:50; segments-height:24; segments-width:24;'
                  material='shader:flat; src:#skyMap; side:back;'>
        </a-entity>
        <a-entity light="type:ambient; color:#FFF; intensity:3.0"></a-entity>
        <a-entity light="type: directional; color: #FFF; intensity: 1.0" position="0 1 1"></a-entity>
    </a-scene>

    <!-- Circles' end scripts [REQUIRED] -->
    <circles-end-scripts/>
  </body>
</html>
