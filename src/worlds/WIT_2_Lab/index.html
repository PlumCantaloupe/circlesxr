<html>
  <head>
    <meta charset="utf-8">

    <!-- Circles' head scripts [REQUIRED] -->
    <circles-start-scripts/>

    <!-- add your custom scripts here -->
    <!-- <script src="/worlds/hub/scripts/hub.js"></script> -->
  </head>
  <body>
    <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
    <circles-start-ui/>

    <!-- a-scene with 'circles-properties' component [REQUIRED] -->
    <a-scene circles_scene_properties>
      <a-assets timeout="10000">
        <!-- add your assets here -->

        <!-- audio -->
        
        <!-- narration -->
        <audio id="Narr_tools-snd" src="/worlds/WIT_2_Lab/assets/audio/Narr_WIT_2_Drill.mp3" preload="true"></audio>
        <audio id="Narr_safety-snd" src="/worlds/WIT_2_Lab/assets/audio/Narr_WIT_2_Gloves.mp3" preload="true"></audio>
        <audio id="Narr_culture-snd" src="/worlds/WIT_2_Lab/assets/audio/Narr_WIT_2_Clipboard.mp3" preload="true"></audio>

        <!-- 360 -->
        <img id='link_1_360'        src='/global/images/Campfire_Screen.jpg' crossorigin="anonymous">

        <a-asset-item id="navmesh_gltf" src="/worlds/WIT_2_Lab/assets/models/wit-2-nav.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>

        <!-- ambience -->
        <!-- 
          ATTRIBUTION:
          Amb_fan-snd: https://freesound.org/people/Gremsongs/sounds/130745/ 
          Amb_voices-snd: https://freesound.org/people/dobroide/sounds/35039/ 
          Amb_extractor-snd: https://freesound.org/people/zigzagzen/sounds/168073/
        -->
        <audio id="Amb_fan-snd" src="/worlds/WIT_2_Lab/assets/audio/Amb_Fan.ogg" preload="true"></audio>
        <audio id="Amb_voices-snd" src="/worlds/WIT_2_Lab/assets/audio/Amb_Voices.ogg" preload="true"></audio>
        <audio id="Amb_extractor-snd" src="/worlds/WIT_2_Lab/assets/audio/Amb_Extractor.ogg" preload="true"></audio>

        <!-- textures -->
        <img id='skyMap' src='/global/assets/textures/equirectangular/WhiteBlue.jpg' crossorigin="anonymous">

        <!-- physical environment -->
        <a-asset-item id="TestBench-gltf" response-type="arraybuffer" src="/worlds/WIT_2_Lab/assets/models/test_benches/scene.gltf"></a-asset-item>
        <a-asset-item id="Room-gltf" response-type="arraybuffer" src="/worlds/WIT_2_Lab/assets/models/room/scene.gltf"></a-asset-item>
        <a-asset-item id="Table-gltf" response-type="arraybuffer" src="/worlds/WIT_2_Lab/assets/models/table/scene.gltf"></a-asset-item>
        <a-asset-item id="TestWall-gltf" response-type="arraybuffer" src="/worlds/WIT_2_Lab/assets/models/test_walls/scene.gltf"></a-asset-item>

        <!-- artefact models -->
        <a-asset-item id="Drill-gltf" src="/worlds/WIT_2_Lab/assets/models/drill/scene.gltf" response-type="arraybuffer"></a-asset-item>
        <a-asset-item id="Gloves-gltf" src="/worlds/WIT_2_Lab/assets/models/gloves/scene.gltf" response-type="arraybuffer"></a-asset-item>
        <a-asset-item id="Clipboard-gltf" src="/worlds/WIT_2_Lab/assets/models/clipboard/scene.gltf" response-type="arraybuffer"></a-asset-item>

        <!-- Circles' built-in assets [REQUIRED] -->
        <circles-assets/>
      </a-assets>

      <!-- Circles' built-in manager and avatar [REQUIRED] -->
      <circles-manager-avatar/>

      <!-- checkpoints -->
      <a-entity circles-checkpoint circles-spawnpoint position="6.5 0.050 3.5"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="2.0 0.05 3.5"></a-entity>

      <a-entity circles-checkpoint circles-spawnpoint position="-2.8 0.05 4.1"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-2.8 0.05 0.48"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-2.8 0.05 -3.15"></a-entity>

      <a-entity circles-checkpoint circles-spawnpoint position="-1.4 0.05 2.3"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-1.4 0.05 -1.32"></a-entity>

      <a-entity circles-checkpoint circles-spawnpoint position="2.0 0.05 1.0"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="2.0 0.05 -1.7"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="5.7 0.05 -1.7"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="5.7 0.05 1.0"></a-entity>

      <!-- sky and lights -->
      <a-entity light="type:ambient; color:#FFF; intensity:3.0"></a-entity>

      <!-- sounds -->
      <a-entity position="7.5 1.0 4.7" circles-sound="type:ambient; src:#Amb_fan-snd; autoplay:true; loop:true; volume:0.1;" ></a-entity>
      <a-entity position="7.5 1.0 -4.7" circles-sound="type:ambient; src:#Amb_voices-snd; autoplay:true; loop:true; volume:0.1;" ></a-entity>
      <a-entity position="-4.3 2.3 -3.7" circles-sound="type:ambient; src:#Amb_extractor-snd; autoplay:true; loop:true; volume:0.4;" ></a-entity>

      <!-- environment / models -->
      <a-entity id="TestBench_model" gltf-model="#TestBench-gltf" circles-sphere-env-map="src:/global/assets/textures/equirectangular/WhiteBlue.jpg" postion="0 0 0" rotation="0 0 0" scale="1 1 1" shadow="receive:false; cast:false;"></a-entity>
      <a-entity id="TestWall_model" gltf-model="#TestWall-gltf" circles-sphere-env-map="src:/global/assets/textures/equirectangular/WhiteBlue.jpg" postion="0 0 0" rotation="0 0 0" scale="1 1 1" shadow="receive:false; cast:false;"></a-entity>
      <a-entity id="Room_Model" gltf-model="#Room-gltf" circles-sphere-env-map="src:/global/assets/textures/equirectangular/WhiteBlue.jpg" postion="0 0 0" rotation="0 0 0" scale="1 1 1" shadow="receive:false; cast:false;"></a-entity>
      <a-entity id="Table_Model" gltf-model="#Table-gltf" circles-sphere-env-map="src:/global/assets/textures/equirectangular/WhiteBlue.jpg" postion="0 0 0" rotation="0 0 0" scale="1 1 1" shadow="receive:false; cast:false;"></a-entity>

      <!-- artefacts -->
      <a-entity id="Artefact-Drill"
                position="4 0.95 0" rotation="0 30 0" scale="1 1 1"
                gltf-model="#Drill-gltf" 
                shadow="receive:false; cast:false;"
                circles-sphere-env-map="src:/global/assets/textures/equirectangular/WhiteBlue.jpg"
                circles-artefact="inspectScale:1.2 1.2 1.2; textRotationY:0; inspectRotation:0 90 0; inspectPosition:0 -0.2 0;
                                  label_offset:0 0.4 0; arrow_position:down;
                                  title:Tools Unfamiliarity; 
                                  description:'Walking into the lab the first day was exhilarating and terrifying. Iâ€™m excited to learn and get comfortable with the tools. But, it's next to impossible when I'm always paired with someone who takes over. I was never exposed to these tools as a child growing up.'';
                                  title_back:Group Work;
                                  description_back:Men usually go into tech. with a better understanding of tools such as this drill. However, women may not have had the same exposure. Though with positive intentions men taking over exercises with unfamiliar tools prevents women from learning.;
                                  label_text:Tools;
                                  audio:#Narr_tools-snd; volume:0.4;"></a-entity>

      <a-entity id="Artefact-Gloves"
                class="interactive narrative"
                position="-4.2 0.83 4.3" rotation="-90 -50 0" scale="1 1 1"
                gltf-model="#Gloves-gltf" 
                shadow="receive:false; cast:false;"
                circles-sphere-env-map="src:/global/assets/textures/equirectangular/WhiteBlue.jpg"
                circles-artefact="inspectScale:2 2 2; textRotationY:90; inspectRotation:0 0 0; inspectPosition:0 -0.1 0;
                                  label_offset:0 0.35 0; arrow_position:down;
                                  title:Equipment - Gloves; 
                                  description:'These glove sizes are almost impossible to work with. Yes, we need these for protection but I also need to pick up fine objects such as wires and screws. If the school had a greater selection for all sizes, I'd spend less time making adjustments and more time working in the lab.';
                                  title_back:One Size Does Not Fit All;
                                  description_back:To save on costs and space, schools tend to purchase generic sizes for safety and protective wear. Large sizes are common. Women often must compensate by making adjustments or risking safety and fine motor skills by wearing ill-fitting attire.;
                                  label_text:Equipment;
                                  audio:#Narr_safety-snd; volume:0.4;"></a-entity>

      <a-entity id="Artefact-Clipboard"
                class="interactive narrative"
                position="0.65 0.79 1.61" rotation="-90 15 0.0" scale="1 1 1"
                gltf-model="#Clipboard-gltf" 
                shadow="receive:false; cast:false;"
                circles-sphere-env-map="src:/global/assets/textures/equirectangular/WhiteBlue.jpg"
                circles-artefact="inspectScale:1.2 1.2 1.2; textRotationY:90;
                                  label_offset:0 0.35 0; arrow_position:down;
                                  title:Culture and Not Fitting In; 
                                  description:'Mr. Smith always seems more open to chat about things with the guys, spending more time with their groups than ours. If he knew that I captained my basketball team in high-school, maybe he'd ask me who my fantasy picks were?'';
                                  title_back:Connecting to Everyone;
                                  description_back:As the professor walks around taking attendance, women notice he talks more with the men. Without knowing, the teacher is adding another layer of insecurity by assuming the women wouldn't have anything to interesting to talk about.;
                                  label_text:Culture;
                                  audio:#Narr_culture-snd; volume:0.4;"></a-entity>

    <a-entity id="navmesh" gltf-model="#navmesh_gltf" visible='false' nav-mesh></a-entity>
    
    <a-entity id="campfire_link"
                position="6.549 1.347 4.864" rotation="0 143.672 0"  scale="1 1 1"
                circles-portal="img_src:#link_1_360; title_text:The Fire; link_url:/w/Campfire"></a-entity>

    <!-- Circles' end scripts [REQUIRED] -->
    <circles-end-scripts/>
  </body>
</html>
