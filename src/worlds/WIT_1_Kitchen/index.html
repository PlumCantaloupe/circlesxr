<html>
  <head>
    <meta charset="utf-8">

    <!-- Circles' head scripts [REQUIRED] -->
    <circles-start-scripts/>

    <!-- add your custom scripts here -->
    <!-- <script src="/worlds/hub/scripts/hub.js"></script> -->
  </head>
  <body>
    <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
    <circles-start-ui/>

    <!-- a-scene with 'circles-properties' component [REQUIRED] -->
    <a-scene circles_scene_properties>
      <a-assets>
        <!-- add your assets here -->
        <img id='skyMap' src='/global/assets/textures/equirectangular/WhiteBlue.jpg' crossorigin="anonymous">

        <!-- physical environment -->
        <!-- ATTRIBUTION: model started with https://sketchfab.com/3d-models/wooden-kitchen-drewniana-kuchnia-378fc9906fb94538b72ce2f13c1c418b -->
        <!-- added additional geometry, optimized, re-UV'd and re-textured (WIP) -->
        <a-asset-item id="room-gltf" response-type="arraybuffer" src="/worlds/WIT_1_Kitchen/assets/models/Kitchen/scene.gltf"></a-asset-item>
        <a-asset-item id="homework-gltf" response-type="arraybuffer" src="/worlds/WIT_1_Kitchen/assets/models/Homework/scene.gltf"></a-asset-item>
        <a-asset-item id="acceptance-gltf" response-type="arraybuffer" src="/worlds/WIT_1_Kitchen/assets/models/Acceptance/scene.gltf"></a-asset-item>
        <a-asset-item id="keys-gltf" response-type="arraybuffer" src="/worlds/WIT_1_Kitchen/assets/models/Keys/scene.gltf"></a-asset-item>

        <!-- 360 -->
        <img id='link_1_360'        src='/global/images/Campfire_Screen.jpg' crossorigin="anonymous">

        <a-asset-item id="navmesh_gltf" src="/worlds/WIT_1_Kitchen/assets/models/wit-1-nav.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>

        <!-- artefact models -->
        <!-- <a-asset-item id="Drill-gltf" src="/worlds/WIT_1_ElectricLab/assets/models/Drill.glb" response-type="arraybuffer"></a-asset-item> -->

        <!-- audio -->
        
        <!-- narration -->
        <audio id="Narr_acceptance-snd" src="/worlds/WIT_1_Kitchen/assets/audio/Narr_WIT_1_Acceptance.mp3" preload="true"></audio>
        <audio id="Narr_keys-snd" src="/worlds/WIT_1_Kitchen/assets/audio/Narr_WIT_1_Keys.mp3" preload="true"></audio>
        <audio id="Narr_math-snd" src="/worlds/WIT_1_Kitchen/assets/audio/Narr_WIT_1_Math.mp3" preload="true"></audio>

        <!-- ambience -->

        <!-- credit: tosha73 @ https://freesound.org/people/tosha73/sounds/496209/  -->
        <audio id="Amb_suburb-snd" src="/worlds/WIT_1_Kitchen/assets/audio/Amb_Suburb.mp3"></audio>

        <!-- credit: yahaveva @ https://freesound.org/people/yahaveva/sounds/444844/ -->
        <audio id="Amb_kitchen-snd" src="/worlds/WIT_1_Kitchen/assets/audio/Amb_Kitchen.mp3"></audio>

        <!-- Circles' built-in assets [REQUIRED] -->
        <circles-assets/>
      </a-assets>

      <!-- Circles' built-in manager and avatar [REQUIRED] -->
      <circles-manager-avatar/>

      <!-- checkpoints -->
      <a-entity circles-checkpoint circles-spawnpoint position="-1.44 0.05 2.6"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-0.8 0.05 -1.0"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="1.3 0.05 1.3"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-0.956 0.05 4.779"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="3.374 0.05 1.289"></a-entity>

      <!-- sky and lights -->
      <!-- bad place for narrative manager but :) -->
      <a-entity light="type:ambient; color:#FFF; intensity:3.0"></a-entity>

      <!-- sounds -->
      <a-entity position="0 0 -4" circles-sound="type:ambient; src:#Amb_suburb-snd; autoplay:true; loop:true; volume:0.1;" ></a-entity>
      <a-entity position="-2.895 1 1.164" circles-sound="type:ambient; src:#Amb_kitchen-snd; autoplay:true; loop:true; volume:0.7;" ></a-entity>

      <a-entity id="room_model" gltf-model="#room-gltf" circles-sphere-env-map="src:#skyMap" postion="0 0 0" rotation="0 0 0" scale="1 1 1" shadow="receive:false; cast:false;"></a-entity>

      <a-entity id="Artefact-Homework"
                position="0.658 0.853 -0.443" rotation="-90 0 0" scale="1 1 1"
                gltf-model="#homework-gltf"
                circles-sphere-env-map="src:#skyMap"
                circles-artefact="inspectScale:2 2 2; textRotationY:0.0; inspectRotation:0 0 0;
                                  label_offset:0.0 0.5 0.0; arrow_position:down;
                                  title:Math Homework;
                                  description:'The idea of taking classes to become an accountant is not what I want. Sure, numbers come easily to me and I'm good at solving equations. But I'm also good at other things, being proficient in math doesn't define me.';
                                  title_back:Math for Women;
                                  description_back:Statistically administrative and financial roles tend to be more female accepting. Since Sarah has always excelled in math and helps with the taxes a program that's more 'feminine' such as accounting would suit her parents more.;
                                  label_text:Math;
                                  audio:#Narr_math-snd; volume:0.4;"></a-entity>

      <a-entity id="Artefact-Acceptance"
                                  position="1.008 1.049 3.238" rotation="-90 200 0" scale="1 1 1"
                                  gltf-model="#acceptance-gltf"
                                  circles-sphere-env-map="src:#skyMap"
                                  circles-artefact="inspectScale:3 3 3; textRotationY:0.0; inspectRotation:0 0 0;
                                  label_offset:0.0 0.5 0.0; arrow_position:down;
                                  title:Acceptance;
                                  description:'Despite their concerns about me getting this diploma in tech., I know it will open doors for me. My parents might not approve at first, but I'll show them it’s worth it.';
                                  title_back:College Diploma;
                                  description_back:The letter reads accepted and the anxious waiting has finally subsided. Now it’s simply down to getting the approval from her family. Many of which still don’t understand the value of a College technician diploma.;
                                  label_text:Acceptance;
                                  audio:#Narr_acceptance-snd; volume:0.4;"></a-entity>

      <a-entity id="Artefact-Keys"
                                  position="-2.56 0.978 -1.09" rotation="-90 45.000 0" scale="1.3 1.3 1.3"
                                  gltf-model="#keys-gltf"
                                  circles-sphere-env-map="src:#skyMap"
                                  circles-artefact="inspectScale:5 5 5; textRotationY:90.0; inspectRotation:0 0 0;
                                  label_offset:0.0 0.5 0.0; arrow_position:down;
                                  title:Keys to the Future;
                                  description:'When I was young, the options my parents had were limited. They needed to work long hours for this shop, but I need to find my own path. Maybe my love of working with my hands and building could help automate areas in the shop.';
                                  title_back:Not Her Future;
                                  description_back:The years of dedication and hardship her parents fought through are felt in those shop keys. She passes them daily, reassuring herself that is not her path. Yet her parents quickly formed a decision to follow their footsteps and continue the legacy.;
                                  label_text:Keys;
                                  audio:#Narr_keys-snd; volume:0.4;"></a-entity>

      <a-entity id="navmesh" gltf-model="#navmesh_gltf" visible='false' nav-mesh></a-entity>

      <a-entity id="campfire_link"
                position="4.919 1.347 1.291" rotation="0 180 0" scale="1 1 1"
                circles-portal="img_src:#link_1_360; title_text:The Fire; link_url:/w/Campfire"></a-entity>
    </a-scene>

    <!-- Circles' end scripts [REQUIRED] -->
    <circles-end-scripts/>
  </body>
</html>
