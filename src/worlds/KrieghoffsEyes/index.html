<html>
<head>
  <!-- Circles' head scripts [REQUIRED] -->
  <circles-start-scripts/>
  <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.5.4/dist/aframe-extras.min.js"></script>
  <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-physics-system@v4.2.3/dist/aframe-physics-system.min.js"></script>
  <script src="http://kripken.github.io/ammo.js/builds/ammo.wasm.js"></script>
  <script src="assets/scripts/change-environment.js"></script>
  <script src="assets/scripts/RIAmanager.js"></script>
</head>
<body>
  <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
  <circles-start-ui/>

  <!-- a-scene with physics for collision -->
  <a-scene circles_scene_properties physics="gravity: 0; debug: true" >
    <a-assets>
      <!-- Circles' built-in assets [REQUIRED] -->
      <circles-assets/>
      <a-asset-item id ="logModel" src="assets/models/RIA/Log.glb"></a-asset-item>
      <a-asset-item id ="Raft1" src="assets/models/RIA/Raft1.glb"></a-asset-item>
      <a-asset-item id ="Raft2" src="assets/models/RIA/Raft2.glb"></a-asset-item>
      <a-asset-item id ="Raft3" src="assets/models/RIA/Raft3.glb"></a-asset-item>
      <a-asset-item id ="Raft4" src="assets/models/RIA/Raft4.glb"></a-asset-item>
    </a-assets>

        <!-- Circles' built-in manager and avatar [REQUIRED] -->
    <circles-manager-avatar/>

    <!-- Circles' built-in manager and avatar [REQUIRED] -->

    <a-entity id = "environment" environment="preset: checkerboard; seed: 123; skyType: gradient; skyColor: #0f0c14; horizonColor: #000000; lighting: none; dressing: none;"></a-entity>
    <!-- Ambient lighting inside the cabin -->
    <a-entity light="type: ambient; intensity: 0.5"></a-entity>

    <a-entity id="GameManager" change-environment ria-manager></a-entity>

    <a-entity id="Cabin" visible="true">


      <!-- Cabin Structure with Collision -->
      <a-box position="0 1.5 -9" width="10" height="3" depth="0.2" color="#8B5A2B" ></a-box>  <!-- Back Wall -->
      <a-box position="-5 1.5 -4" width="0.2" height="3" depth="10" color="#8B5A2B"></a-box>  <!-- Left Wall -->
      <a-box position="5 1.5 -4" width="0.2" height="3" depth="10" color="#8B5A2B"></a-box>  <!-- Right Wall -->
      <a-box position="0 1.5 1" width="10" height="3" depth="0.2" color="#8B5A2B"></a-box>  <!-- Back Wall -->
      <a-box position="0 3 -4" width="10" height="0.2" depth="10" color="#704214"></a-box>  <!-- Roof -->
      <a-box position="0 0 -4" width="10" height="0.2" depth="10" color="#654321"></a-box>  <!-- Floor -->
  
      <!-- Lights inside the cabin -->
      <a-entity light="type: point; intensity: 3; distance: 5" position="-4 2 -8" circles-interactive-object="type:highlight"></a-entity>
      <a-entity light="type: point; intensity: 3; distance: 5" position="0 2 -8" circles-interactive-object="type:highlight"></a-entity>
      <a-entity light="type: point; intensity: 3; distance: 5" position="4 2 -8" circles-interactive-object="type:highlight"></a-entity>
  
      <!-- Painting -->
       <a-box position="4 1.86 -8.866" scale=".95 1.3 .071" color="#940000"
       id="redPaint"
       class="interactive"
       circles-interactive-object="type:highlight"
       circles-sendpoint="target:#checkpoint_red;"
       environemntProp = "preset: forest; seed: 222; skyType: atmosphere;  lighting: distant; dressing: trees;"
       ></a-box>
       <a-box position="0 1.86 -8.866" scale=".95 1.3 .071" color="#009400"
       id="greenPaint"
       class="interactive"
       circles-interactive-object="type:highlight"
       ></a-box>
       <a-box position="-4 1.86 -8.866" scale=".95 1.3 .071" color="#000094"
       id="bluePaint"
       class="interactive"
       circles-interactive-object="type:highlight"
       circles-sendpoint="target:#checkpoint_blue;"
       environemntProp = "preset: japan; seed: 222; skyType: atmosphere;  lighting: distant; dressing: torii;"
       ></a-box>
    </a-entity>

     <a-entity id="checkpoint_red" circles-checkpoint position="20 0.105 0"></a-entity>
     <a-entity id="checkpoint_blue" circles-checkpoint position="-40 0.105 0"></a-entity>

   

  </a-scene>

  <!-- Circles' end scripts [REQUIRED] -->
  <circles-end-scripts/>
</body>
</html>
