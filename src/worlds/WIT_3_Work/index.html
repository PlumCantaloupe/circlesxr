<html>
  <head>
    <meta charset="utf-8">

    <!-- Circles' head scripts [REQUIRED] -->
    <circles-start-scripts/>

    <!-- add your custom scripts here -->
    <!-- <script src="/worlds/hub/scripts/hub.js"></script> -->
  </head>
  <body>
    <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
    <circles-start-ui/>

    <!-- a-scene with 'circles-properties' component [REQUIRED] -->
    <a-scene circles_scene_properties>
      <a-assets>
        <!-- add your assets here -->
        <!-- credit: HDRMaps @ https://hdrmaps.com/egg-mountain-at-afternoon/ -->
        <img id='skyMap' src='/worlds/WIT_3_Work/assets/textures/095_hdrmaps_com_free_above_clouds.jpg' crossorigin="anonymous">

        <!-- physical environment -->
        <a-asset-item id="worksite-gltf" response-type="arraybuffer" src="/worlds/WIT_3_Work/assets/models/worksite/scene.gltf"></a-asset-item>

        <!-- 360 -->
        <img id='link_1_360'        src='/global/images/Campfire_Screen.jpg' crossorigin="anonymous">

        <a-asset-item id="navmesh_gltf" src="/worlds/WIT_3_Work/assets/models/wit-3-nav.glb" response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>

        <!-- artefacts -->
        <!-- gltf models -->
        <!-- credits [a mix of custom models and the [editted] models listed below]:  -->
        <!-- shihdigital @ https://sketchfab.com/3d-models/lunchbox-b5c67a35561b4db6a90cd2d3dc2f63fa -->
        <!-- Meerschaum Digital @ https://sketchfab.com/3d-models/apple-315c36aceae940a0ac7325949c97db93 -->
        <!-- Meerschaum Digital @ https://sketchfab.com/3d-models/sub-sandwich-b7aa7644a6f9481b89da16eb2b9ca39b  -->
        <a-asset-item id="lunch-gltf" response-type="arraybuffer" src="/worlds/WIT_3_Work/assets/models/lunch/scene.gltf"></a-asset-item>

        <!-- credit: Craig_lee @ https://sketchfab.com/3d-models/step-ladder-small-b627dfe2eeaf48ab86559a742c3119df [editted]-->        
        <a-asset-item id="step-ladder-gltf" response-type="arraybuffer" src="/worlds/WIT_3_Work/assets/models/step_ladder/scene.gltf"></a-asset-item>

        <!-- credit: apleesee @ https://sketchfab.com/3d-models/wallet-ccfcc4ae6efa44a2ba34c4c479be7daf [editted]-->
        <!-- image/photo credit: https://www.pexels.com/photo/girl-sitting-on-see-saw-2983468/ -->
        <a-asset-item id="wallet-gltf" response-type="arraybuffer" src="/worlds/WIT_3_Work/assets/models/wallet/scene.gltf"></a-asset-item>

        <!-- audio -->
        
        <!-- narration -->
        <audio id="Narr_ladder-snd" src="/worlds/WIT_3_Work/assets/audio/Narr_WIT_3_Ladder.mp3" preload="true"></audio>
        <audio id="Narr_lunch-snd" src="/worlds/WIT_3_Work/assets/audio/Narr_WIT_3_Lunch.mp3" preload="true"></audio>
        <audio id="Narr_photo-snd" src="/worlds/WIT_3_Work/assets/audio/Narr_WIT_3_Photo.mp3" preload="true"></audio>

        <!-- ambient -->
        <!-- credit: btherad2000 @ https://freesound.org/people/btherad2000/sounds/328080/ -->
        <audio id="Amb_construction-snd" src="/worlds/WIT_3_Work/assets/audio/Amb_Construction.mp3" preload="true"></audio>
        
        <!-- credit: Omar Alvarado @ https://freesound.org/people/Omar%20Alvarado/sounds/251547/ -->
        <audio id="Amb_truck-snd" src="/worlds/WIT_3_Work/assets/audio/Amb_Truck.mp3" preload="true"></audio>

        <!-- Circles' built-in assets [REQUIRED] -->
        <circles-assets/>
      </a-assets>

      <!-- Circles' built-in manager and avatar [REQUIRED] -->
      <circles-manager-avatar/>

      <!-- sounds -->
      <a-entity position="-4.308 1.0 11.468" circles-sound="type:ambient; src:#Amb_construction-snd; autoplay:true; loop:true; volume:1.0;" sound="refDistance:10; rolloffFactor:4.0;" ></a-entity>
      <a-entity position="-8.853 1.0 1.888" circles-sound="type:ambient; src:#Amb_truck-snd; autoplay:true; loop:true; volume:0.2;" ></a-entity>

      <!-- checkpoints -->
      <a-entity circles-checkpoint circles-spawnpoint position="-1.845 0.050 0.329"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="1.489 0.05 1.655"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="2.108 0.05 4.562"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-0.823 0.05 4.024"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-3.633 0.05 3.172"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-2.422 0.05 6.407"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-5.017 -0.182 8.469"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-6.453 0.05 4.849"></a-entity>
      <a-entity circles-checkpoint circles-spawnpoint position="-9.225 -0.287 10.339"></a-entity>
      
      <!-- the ground -->
      <a-entity id="Worksite_model" gltf-model="#worksite-gltf" circles-sphere-env-map="src:/global/assets/textures/equirectangular/WhiteBlue.jpg" postion="0 0 0" rotation="0 0 0" scale="1 1 1" shadow="receive:false; cast:false;"></a-entity>

      <!-- artefacts -->
      <a-entity id="Artefact-Lunch"
                position="-7.954 0.536 7.534" rotation="0 0 0" scale="1 1 1"
                gltf-model="#lunch-gltf"
                circles-sphere-env-map="src:#skyMap"
                circles-pickup-networked
                circles-artefact="inspectScale:2 2 2; textRotationY:120.0; inspectPosition:0 -0.3 0;
                                  label_offset:0.0 0.7 0.0; arrow_position:down;
                                  title:Lunch Alone;
                                  description:'After a long morning on the road, Jim and I are starving. When we get to the site, this sandwich is going to hit the spot. He mocks me for eating healthy. Oh well, he only eats with the other guys anyway.';
                                  title_back:Unintentional Exclusion;
                                  description_back:Being excluded is not always obvious, but even something as simple as eating lunch together can create feelings of isolation in those that don't belong.';
                                  label_text:Lunch;
                                  audio:#Narr_lunch-snd; volume:0.4;"></a-entity>

      <a-entity id="Artefact-Steps"
                position="-8.511 0.016 3.243" rotation="2.347 -138.544 1.202" scale="1 1 1"
                gltf-model="#step-ladder-gltf"
                circles-sphere-env-map="src:#skyMap"
                circles-pickup-networked
                circles-artefact="inspectScale:0.7 0.7 0.7; textRotationY:30.0; inspectPosition:0 -0.3 0;
                                  label_offset:0.0 1.2 0.0; arrow_position:down;
                                  title:Ladder to Reach;
                                  description:'I need a stool or ladder to reach things, but I get this look from everyone like why is she even here if she needs that? But if the job is still getting done properly and efficiently what does it matter if I need to reach things that most men donâ€™t.';
                                  title_back:Standing Out;
                                  description_back:Job tasks remain identical regardless of size or gender. Handling large machinery can be a challenge, when less than average height. Creating added supports or materials can help in accomplishing these tasks. However for those who don't require extras, it continues to isolate those who do.;
                                  label_text:Ladder;
                                  audio:#Narr_ladder-snd; volume:0.4;"></a-entity>

      <a-entity id="Artefact-Wallet"
                position="-7.340 0.534 8.404" rotation="-90 153.220 0" scale="1 1 1"
                gltf-model="#wallet-gltf"
                circles-sphere-env-map="src:#skyMap"
                circles-pickup-networked
                circles-artefact="inspectScale:5 5 5; textRotationY:120.0;
                                  label_offset:0.0 0.5 0.0; arrow_position:down;
                                  title:Photo Reminder;
                                  description:'I carry a picture with me at all times in my wallet, so that I can look at my family and remember why I keep pushing on through adversity. Sometimes, I just need a reminder before hitting a 10 hour shift with the guys.';
                                  title_back:Reducing Attrition;
                                  description_back:With so many seemingly small challenges adding up to make going to work a chore, sometimes the additional motivation of being stubborn or supporting others can help. What about those that do not?;
                                  label_text:Photo;
                                  audio:#Narr_photo-snd; volume:0.4;"></a-entity>

      <a-entity id="navmesh" gltf-model="#navmesh_gltf" visible='false' nav-mesh></a-entity>

      <a-entity id="campfire_link"
                position="0.656 1.347 9.268" rotation="0 143.672 0" scale="1 1 1"
                circles-portal="img_src:#link_1_360; title_text:The Fire; link_url:/w/Campfire"></a-entity>

      <!-- sky and lights -->
      <a-entity light="type:ambient; color:#FFF; intensity:3.0"></a-entity>
      <a-entity id='skyBox'
                position='0 -3 0'
                rotation='0 30 0'
                geometry='primitive:sphere; radius:50; segments-height:24; segments-width:24;'
                material='shader:flat; src:#skyMap; side:back;'>
      </a-entity>
    </a-scene>

    <!-- Circles' end scripts [REQUIRED] -->
    <circles-end-scripts/>
  </body>
</html>
